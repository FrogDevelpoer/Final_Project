<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<link type="text/css" th:href="@{/css/myPage/LREAMyPage.css}" rel="stylesheet">

<th:block layout:fragment="css"></th:block>


<body layout:fragment="content">
<header></header>
<div class="LRMy-div-all">
    <div class="LRMy-div-con-all">
        <div class="LRMy-div-all-pro">
            <div class="LRMy-div-pro">
                <div class="LRMy-div-pro01">
                    <div class="LRMy-div-pro-pic"></div>
                    <p class="LRMy-pro-nam" th:text="${memberFormDto.membNick}">사용자닉네임</p>
                    <input type="hidden" th:field="*{memberFormDto.role}" th:value="${role}" >
                    <p class="LRMy-pro-rat" th:if="${#strings.equals(memberFormDto.role, 'USER')}">개인회원</p>
                    <p class="LRMy-pro-rat" th:unless="${#strings.equals(memberFormDto.role, 'USER')}">공인중개사</p>
                </div>
                <div class="LRMy-div-pro02"></div>
            </div>
            <div class="LRMy-div-all-pag">
                <div class="LRMy-div-pag">
                    <p class="LRMy-pag-tit">내가 올린 매물 보기</p>
                    <p class="LRMy-pag-tit">내정보</p>
                    <p class="LRMy-pag-con"><a href="/members/update">회원 정보 수정</a></p>
                    <p class="LRMy-pag-con"><a th:href="@{/members/delete/ + (${memberFormDto.id}) }">회원 탈퇴</a></p>
                </div>
            </div>
        </div>
        <div class="LRMy-div-con">
            <div class="LRMy-div-tit">
                <h1 class="LRMy-tit-font">마이페이지</h1>
            </div>
            <div class="LRMy-div-con-inf">
                <div class="LRMy-div-inf-top">
                    <p class="LRMy-inf-tit">내정보</p>
                </div>
            </div>
            <div class="LRMy-div-sal">
                <div class="LRMy-div-sal-tit">
                    <p class="LRMy-tit-p">내가 올린 매물 목록</p>
                </div>
                <table>
                    <tr class="LRMy-ul-sal">
                        <td class="LRMy-li-sal">
                            <div class="LRMy-sal-img"></div>
                            <p class="LRMy-sal-tit-p">매물 제목</p>
                            <div class="LRMy-sal-con-pdiv">
                                <p class="LRMy-sal-con-p">지역</p>
                                <p class="LRMy-sal-con-p">평수</p>
                            </div>
                        </td>
                    </tr>
                </table>
                <div th:with="start=${(reEs.id/maxPage)*maxPage + 1}, end=(${(reEs.totalPages == 0) ? 1 : (start + (maxPage - 1) < reEs.totalPages ? start + (maxPage - 1) : reEs.totalPages)})" >
                    <ul class="pagination justify-content-center">

                        <li class="page-item" th:classappend="${reEs.first}?'disabled'">
                            <a th:onclick="'javascript:page(' + ${reEs.id - 1} + ')'" aria-label='Previous' class="page-link">
                                <span aria-hidden='true'>Previous</span>
                            </a>
                        </li>

                        <li class="page-item" th:each="page: ${#numbers.sequence(start, end)}" th:classappend="${reEs.id eq page-1}?'active':''">
                            <a th:onclick="'javascript:page(' + ${page - 1} + ')'" th:inline="text" class="page-link">[[${page}]]</a>
                        </li>

                        <li class="page-item" th:classappend="${reEs.last}?'disabled'">
                            <a th:onclick="'javascript:page(' + ${reEs.id + 1} + ')'" aria-label='Next' class="page-link">
                                <span aria-hidden='true'>Next</span>
                            </a>
                        </li>
                    </ul>
                    <th:block layout:fragment="script">
                        <script th:inline="javascript">
                            $(document).ready(function(){
                                $("#searchBtn").on("click",function(e) {
                                    e.preventDefault();
                                    page(0);
                                });
                            });

                            function page(page){
                                var searchDateType = $("#searchDateType").val();
                                var searchSellStatus = $("#searchSellStatus").val();
                                var searchBy = $("#searchBy").val();
                                var searchQuery = $("#searchQuery").val();

                                location.href="/admin/items/" + page + "?searchDateType=" + searchDateType
                                + "&searchSellStatus=" + searchSellStatus
                                + "&searchBy=" + searchBy
                                + "&searchQuery=" + searchQuery;
                            }
                        </script>
                    </th:block>
                </div>
            </div>
        </div>
    </div>
</div>
<footer></footer>

</body>
</html>